<sequence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		disabled="false"
		id="26594970ed304df99e7421021633dc1e"
		lineNumber="1">
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="b605a4eecc5d407fb185b4c731a22e83"
			lineNumber="2">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="4c8bddb6946a466a99844258cbdd9884"
				serviceId="nabu.frameworks.process.crud.processVersion.services.get"
				resultName="result656fc5a4ceb44ffa99b2372a59308799"
				temporaryMapping="true"
				x="136"
				y="39"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="35302b83f7214ade96e4566207c0e3fd"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>input/path/processVersionId</from>
				<to>id</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="34d112c625134398957644ba1646d4e3"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>result656fc5a4ceb44ffa99b2372a59308799/result</from>
			<to>definition</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Throw"
			comment="You can not edit released or deprecated flows nor can you release or deprecate via this way"
			disabled="false"
			id="7321f6c41e9d497d85d8e9770fe2cf0c"
			label="definition/released != null || input/content/released != null || definition/deprecated != null || input/content/deprecated != null"
			lineNumber="3" xsi:nil="true"/>
	<steps xsi:type="be.nabu.libs.services.vm.step.Throw"
			disabled="false"
			id="552915c5ac414f33bf4bcdfcd39d2c69"
			label="definition != null &amp;&amp; definition/version != input/content/version"
			lineNumber="4"
			message="Can not update the version" xsi:nil="true"/>
	<steps xsi:type="be.nabu.libs.services.vm.step.Switch"
			comment="Create or update definition"
			disabled="false"
			id="fe64a783847c4ac0ad72f51a3256c5ba"
			lineNumber="5">
		<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
				disabled="false"
				id="6cd41defb81f4deaa79404a438a9e0ac"
				label="!definition"
				lineNumber="6">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="b6770b0b711a47269caf30931480d61f"
					lineNumber="7">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="9b945336c9d84efc9fbab65258aad0f4"
						serviceId="nabu.frameworks.process.crud.processDefinition.services.create"
						resultName="result1d2f0f530f56491b90ac1d84868851a5"
						temporaryMapping="true"
						x="278"
						y="79"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="4156164a28c34c889c95ab3fbe19141a"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content/name</from>
						<to>instance/name</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="6316b83c60044c7fa81c4e790f57cb3e"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content/description</from>
						<to>instance/description</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="43f3a4abd2374791adad27e5b0bf91a0"
							mask="false"
							optional="false"
							fixedValue="true">
						<from>true</from>
						<to>instance/enabled</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="a2ddc1ad2cc04d8ab9e3b276110e544a"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content/processDefinitionId</from>
						<to>id</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="b1d14f758d804f53b7675c69915cfdea"
					lineNumber="8">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="8257626d2fab48499d8309b31c93ef5f"
						serviceId="nabu.frameworks.process.crud.processVersion.services.create"
						resultName="result26b2c10b3c5b44cfa7a096627c454e16"
						temporaryMapping="true"
						x="180"
						y="107"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="cea0adaa628446d3aa9b24547633acea"
							mask="true"
							optional="false"
							fixedValue="false">
						<from>input/content</from>
						<to>instance</to>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="d4cfc795b72541f2b3c33b4d28df4830"
						mask="true"
						optional="false"
						fixedValue="false">
					<from>result26b2c10b3c5b44cfa7a096627c454e16/created</from>
					<to>definition</to>
				</steps>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
				disabled="false"
				id="c5dcf6ad811a40a68a222a793498263b"
				lineNumber="9">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="1707943b211e4dc2b630a36a35c0cca3"
					lineNumber="10">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="c6af7dbcf05246dd83314b19bbf581f2"
						serviceId="nabu.utils.Object.mapByKey"
						resultName="resultfafb00eddbc341b9a4500b8ee683f13f"
						temporaryMapping="true"
						x="112"
						y="75"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="4e2463bc99354c019b9407497880fd8f"
							mask="false"
							optional="false"
							fixedValue="true">
						<from>id</from>
						<to>ignoredFields[0]</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="fe37e572b489460093a71674df9e7d53"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content</from>
						<to>from</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="c512c12358b24b2899d182d19dc756c4"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>definition</from>
						<to>into</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="1cbaaec27cdb4750afdc76cbe868439c"
					lineNumber="11">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="c4469bee4d2d42608e8da2cbe21ae0f2"
						serviceId="nabu.frameworks.process.crud.processVersion.services.update"
						resultName="result7c5f99e2eacb41b783a15fc6589f123c"
						temporaryMapping="true"
						x="132"
						y="75"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="50e30cd35188490791970b9988b70c81"
							mask="true"
							optional="false"
							fixedValue="false">
						<from>definition</from>
						<to>instance</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="e883bdb431f7403381470867738749db"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>definition/id</from>
						<to>id</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					comment="Get the process definition as well, we might have updated the name or description"
					disabled="false"
					id="0b4f96f3ed574891b1ad1237bca8ca03"
					lineNumber="12">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="3ee2630ab1244583aef3502b4b35df27"
						serviceId="nabu.frameworks.process.crud.processDefinition.services.get"
						resultName="resultcc78a50f3e87469cbe249b8df7eae2ea"
						temporaryMapping="true"
						x="126"
						y="93"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="3accad12603541e998c5147603ca5c1c"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content/processDefinitionId</from>
						<to>id</to>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="6b08a11681d5457785baf26e43067d6a"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>resultcc78a50f3e87469cbe249b8df7eae2ea/result</from>
					<to>processDefinition</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="b5c5624ef67646fdb0f542528d10a507"
					lineNumber="13">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="a121e5d7c51e48b589de20c346dff0e7"
						serviceId="nabu.utils.Object.mapByKey"
						resultName="result16f9ca90a5354b5eb5a1f3027f79c445"
						temporaryMapping="true"
						x="182"
						y="203"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="cde9363a1f664b9bba166f3b646328f2"
							mask="false"
							optional="false"
							fixedValue="true">
						<from>id</from>
						<to>ignoredFields[0]</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="c7ca08b8a78249f184791431f7dc546b"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>input/content</from>
						<to>from</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="37e02947d362464ca34baef149c4d378"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>processDefinition</from>
						<to>into</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="5abee33f68ba4232ab2b87019ce84106"
					lineNumber="14">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="459a04f7b2bc4519b7d48370d57513be"
						serviceId="nabu.frameworks.process.crud.processDefinition.services.update"
						resultName="result98c47e761d3a43ce8510a97bdac3d0d2"
						temporaryMapping="true"
						x="230"
						y="40"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="30cb28e0cf1d486c894f0f5a69c7e053"
							mask="true"
							optional="false"
							fixedValue="false">
						<from>processDefinition</from>
						<to>instance</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="51f499ee33b14de0887869e66bc283d4"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>processDefinition/id</from>
						<to>id</to>
					</steps>
				</steps>
			</steps>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="cdb84fca33e1464c96eb09d11d21d675"
			lineNumber="15">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="52eedb27301b42f682fd59c20d787650"
				serviceId="nabu.frameworks.process.crud.processState.services.list"
				resultName="result3a8640511bc944eaa0ee5553820e6acd"
				temporaryMapping="true"
				x="129"
				y="90"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="6af756baa8734ded8e254db0b6d73274"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>result3a8640511bc944eaa0ee5553820e6acd/results</from>
			<to>existingStates</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="f2c6252a76384a99aacf431fb67d9310"
			label="existingStates"
			lineNumber="16">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="35a0a5f1c8e94ba783c159ba950c141d"
				serviceId="nabu.frameworks.process.crud.processAction.services.list"
				resultName="resultb442412302ae4d8d98ea2266105c3e7e"
				temporaryMapping="true"
				x="104"
				y="72"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="2e2252b3a4d04cbc8890f8af0fffe6a0"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>existingStates/id</from>
				<to>filter/processStateId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="7cbe52a02d584324905afdc0e881b6ca"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>resultb442412302ae4d8d98ea2266105c3e7e/results</from>
			<to>existingActions</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="99786974e11f4b16b9238fc184afb688"
			label="existingActions"
			lineNumber="17">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="cdd452dbceee4871a67c3d96a3672f64"
				serviceId="nabu.frameworks.process.crud.processActionRelation.services.list"
				resultName="result9d66e6d9b5894aa8a1abf0d18b9e2294"
				temporaryMapping="true"
				x="95"
				y="137"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="8685450cd4bc4c968e5e392f5d2ec79f"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>existingActions/id</from>
				<to>filter/actionId</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="a5485eaef9d54ed297a535e25079e093"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>result9d66e6d9b5894aa8a1abf0d18b9e2294/results</from>
			<to>existingRelations</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.For"
			disabled="false"
			id="085968b5604045219c8ffd8f4fb69330"
			lineNumber="18"
			variable="state">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				comment="Get existing state"
				disabled="false"
				id="38763b98b30c4875989bf8b8200210c9"
				lineNumber="19">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="c2ba6ca040b34bdd866cf7e76e517d60"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>existingStates[id == /state/id]</from>
				<to>existingState</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Switch"
				disabled="false"
				id="700dd9e247ff4fbaa76e088a974b3544"
				lineNumber="20">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="fbda28292a5f4f0e8b0293f46e3d18fa"
					label="!existingState"
					lineNumber="21">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="3da67cf69ec748cdad1f9888c1aa3d6e"
						serviceId="nabu.frameworks.process.crud.processState.services.create"
						resultName="result12b4a024d79f43c6a3174635489758f1"
						temporaryMapping="true"
						x="119"
						y="59"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="3e696acf965548f78f91778792ccf7ea"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>state/id</from>
						<to>id</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="6ff5aa93f1024d6c957a6180054b1fe0"
							mask="true"
							optional="false"
							fixedValue="false">
						<from>state</from>
						<to>instance</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
					disabled="false"
					id="02f649c9a01c43b992c9dcaa5f0b0138"
					lineNumber="22">
				<steps xsi:type="be.nabu.libs.services.vm.step.Map"
						disabled="false"
						id="d5ba6ef5e37f4fa791b7ad3bd1bb526a"
						lineNumber="23">
					<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
							disabled="false"
							id="f9f90de9a5c649e38a345feb44aa4877"
							serviceId="nabu.utils.Object.mapByKey"
							resultName="resultf3af0b717a60432a9fc192d5f2f15da7"
							temporaryMapping="true"
							x="83"
							y="124"
							invocationOrder="0"
							asynchronous="false"
							recache="false">
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="7368a74c597a4f2bb33a50796a347d42"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>state</from>
							<to>from</to>
						</steps>
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="eec6f2bd106d4890af3327674504396f"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>existingState</from>
							<to>into</to>
						</steps>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Map"
						disabled="false"
						id="6d1f0b7de7c645ed8e1f80146a468a29"
						lineNumber="24">
					<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
							disabled="false"
							id="e57e371f17154e5ca7e7680fb23dbccb"
							serviceId="nabu.frameworks.process.crud.processState.services.update"
							resultName="result2763d2d20724401c9c01fcec70927124"
							temporaryMapping="true"
							x="116"
							y="73"
							invocationOrder="0"
							asynchronous="false"
							recache="false">
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="34a54cc0fc1c4be7bca3848cc9d9a5f1"
								mask="true"
								optional="false"
								fixedValue="false">
							<from>existingState</from>
							<to>instance</to>
						</steps>
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="7a2a08e75152457295744b604793f883"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>existingState/id</from>
							<to>id</to>
						</steps>
					</steps>
				</steps>
			</steps>
		</steps>
		<query>input/content/states</query>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.For"
			comment="Do actions after all states are synced to prevent foreign key issues"
			disabled="false"
			id="2a5c3dee38424fccb691d2ca70d9323b"
			lineNumber="25"
			variable="state">
		<steps xsi:type="be.nabu.libs.services.vm.step.For"
				disabled="false"
				id="8cb189bbc16a4afa926cd384f5ab35b7"
				lineNumber="26"
				variable="action">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					comment="Get existing action"
					disabled="false"
					id="2e3a24cfd6cf481698e679b156ba11f2"
					lineNumber="27">
				<steps xsi:type="be.nabu.libs.services.vm.step.Link"
						disabled="false"
						id="0f2c615cb12a40cdbaedf51966fdc29d"
						mask="false"
						optional="false"
						fixedValue="false">
					<from>existingActions[id == /action/id]</from>
					<to>existingAction</to>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Switch"
					disabled="false"
					id="0ff360d39cc0496f9ff32f22676049ac"
					lineNumber="28">
				<steps xsi:type="be.nabu.libs.services.vm.step.Map"
						disabled="false"
						id="e71b94ed876842f2b6b2d7e1399b2616"
						label="!existingAction"
						lineNumber="29">
					<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
							disabled="false"
							id="e2105480a225405993571b8947e52797"
							serviceId="nabu.frameworks.process.crud.processAction.services.create"
							resultName="resultfabab82fbc0b40d0bdba6d5e87a8f62f"
							temporaryMapping="true"
							x="130"
							y="102"
							invocationOrder="0"
							asynchronous="false"
							recache="false">
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="8ea3ef4d77cc49d4a5bdad0b97301dbc"
								mask="true"
								optional="false"
								fixedValue="false">
							<from>action</from>
							<to>instance</to>
						</steps>
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="9de0c318a1164807a2d5a77ae0cb3b06"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>action/id</from>
							<to>id</to>
						</steps>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
						disabled="false"
						id="5071460448c74a73afacfda0d2a9dc8a"
						lineNumber="30">
					<steps xsi:type="be.nabu.libs.services.vm.step.Map"
							disabled="false"
							id="cf8f0f2ada1f4142bb94f4d5c1fd83e7"
							lineNumber="31">
						<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
								disabled="false"
								id="29bcd836f02c471e8d3bc8cb0089443e"
								serviceId="nabu.utils.Object.mapByKey"
								resultName="resultf3af0b717a60432a9fc192d5f2f15da7"
								temporaryMapping="true"
								x="83"
								y="124"
								invocationOrder="0"
								asynchronous="false"
								recache="false">
							<steps xsi:type="be.nabu.libs.services.vm.step.Link"
									disabled="false"
									id="039198d988c24dd9b2385ff40857dbf2"
									mask="false"
									optional="false"
									fixedValue="false">
								<from>existingAction</from>
								<to>into</to>
							</steps>
							<steps xsi:type="be.nabu.libs.services.vm.step.Link"
									disabled="false"
									id="8e4ff6846e5a4235b1f9a17fc22f535e"
									mask="false"
									optional="false"
									fixedValue="false">
								<from>action</from>
								<to>from</to>
							</steps>
						</steps>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Map"
							disabled="false"
							id="d95ca22f6b824eaf8c9b0244277a2f2e"
							lineNumber="32">
						<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
								disabled="false"
								id="5fc28d005ccd445692b7b8c150e2855a"
								serviceId="nabu.frameworks.process.crud.processAction.services.update"
								resultName="resulte0d077c4156a4a08a2cd6002ad6b2829"
								temporaryMapping="true"
								x="157"
								y="60"
								invocationOrder="0"
								asynchronous="false"
								recache="false">
							<steps xsi:type="be.nabu.libs.services.vm.step.Link"
									disabled="false"
									id="abb9f9be2434483b8ca2f6327ac59c0e"
									mask="true"
									optional="false"
									fixedValue="false">
								<from>existingAction</from>
								<to>instance</to>
							</steps>
							<steps xsi:type="be.nabu.libs.services.vm.step.Link"
									disabled="false"
									id="77321a937a2f4788bbb835d2a9b2814b"
									mask="false"
									optional="false"
									fixedValue="false">
								<from>existingAction/id</from>
								<to>id</to>
							</steps>
						</steps>
					</steps>
				</steps>
			</steps>
			<query>state/actions</query>
		</steps>
		<query>input/content/states</query>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.For"
			disabled="false"
			id="32bb91cf2ce344afba05cc0874ddea24"
			lineNumber="33"
			variable="actionRelation">
		<steps xsi:type="be.nabu.libs.services.vm.step.Map"
				comment="Get existing relation"
				disabled="false"
				id="0931deb341fb42e19a588f06495559fe"
				lineNumber="34">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="5973a63490de49ac9a3d5cff01876d72"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>existingRelations[id == /actionRelation/id]</from>
				<to>existingRelation</to>
			</steps>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Switch"
				disabled="false"
				id="f7ffa941ce6d4be8aec622783be46dee"
				lineNumber="35">
			<steps xsi:type="be.nabu.libs.services.vm.step.Map"
					disabled="false"
					id="64d8bf7f9818486b8d083aa5d7acbda8"
					label="!existingRelation"
					lineNumber="36">
				<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
						disabled="false"
						id="8b124e53baee48bd9afd918614025aa6"
						serviceId="nabu.frameworks.process.crud.processActionRelation.services.create"
						resultName="result8289dd66aa2f47b883c6727fcd08199c"
						temporaryMapping="true"
						x="133"
						y="85"
						invocationOrder="0"
						asynchronous="false"
						recache="false">
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="1da0e166e0e846a1a5daee5c636236db"
							mask="true"
							optional="false"
							fixedValue="false">
						<from>actionRelation</from>
						<to>instance</to>
					</steps>
					<steps xsi:type="be.nabu.libs.services.vm.step.Link"
							disabled="false"
							id="8ee2b97042684e09b422bb8cf1648c6b"
							mask="false"
							optional="false"
							fixedValue="false">
						<from>actionRelation/id</from>
						<to>id</to>
					</steps>
				</steps>
			</steps>
			<steps xsi:type="be.nabu.libs.services.vm.step.Sequence"
					disabled="false"
					id="09e93902b07842dca354f728ad380932"
					lineNumber="37">
				<steps xsi:type="be.nabu.libs.services.vm.step.Map"
						disabled="false"
						id="708879b871ba4ac98ca7253a6c18d018"
						lineNumber="38">
					<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
							disabled="false"
							id="dceeb8febf61401985ea92e9c59315e2"
							serviceId="nabu.utils.Object.mapByKey"
							resultName="result7cfba8dbcac94fb9b7b38d6fd69e8035"
							temporaryMapping="true"
							x="94"
							y="78"
							invocationOrder="0"
							asynchronous="false"
							recache="false">
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="11851bb37c044d5e9623808370d1b716"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>actionRelation</from>
							<to>from</to>
						</steps>
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="247ca82e84814a4dae99eb87ce94e37a"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>existingRelation</from>
							<to>into</to>
						</steps>
					</steps>
				</steps>
				<steps xsi:type="be.nabu.libs.services.vm.step.Map"
						disabled="false"
						id="4f3b549015f84b1b9ee711352365c8df"
						lineNumber="39">
					<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
							disabled="false"
							id="645a80bae76042bdbdd74e71d5053293"
							serviceId="nabu.frameworks.process.crud.processActionRelation.services.update"
							resultName="result76a5258dd8ec448e80baf588640c115e"
							temporaryMapping="true"
							x="200"
							y="35"
							invocationOrder="0"
							asynchronous="false"
							recache="false">
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="909d4cf7268f4913ba4bc8afd44f8a7a"
								mask="false"
								optional="false"
								fixedValue="false">
							<from>existingRelation/id</from>
							<to>id</to>
						</steps>
						<steps xsi:type="be.nabu.libs.services.vm.step.Link"
								disabled="false"
								id="f8564d607458440ea2ddeb92b22aeb66"
								mask="true"
								optional="false"
								fixedValue="false">
							<from>existingRelation</from>
							<to>instance</to>
						</steps>
					</steps>
				</steps>
			</steps>
		</steps>
		<query>input/content/actionRelations</query>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			comment="Get things to remove"
			disabled="false"
			id="12629baf183c464b9a24ebc83f008cac"
			lineNumber="40">
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="da549d6664524549b94cd97fd700d633"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>existingRelations[id !# /input/content/actionRelations/id]</from>
			<to>relationsToRemove</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="f0c83b273ecb40ab90f407cef18e6cc3"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>existingActions[id !# /input/content/states/actions/id]</from>
			<to>actionsToRemove</to>
		</steps>
		<steps xsi:type="be.nabu.libs.services.vm.step.Link"
				disabled="false"
				id="a1e331ad2a864939ae11d8be5523598f"
				mask="false"
				optional="false"
				fixedValue="false">
			<from>existingStates[id !# /input/content/states/id]</from>
			<to>statesToRemove</to>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="57c8d3cfd9dc4f92a3a169f3810f842d"
			label="relationsToRemove"
			lineNumber="41">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="3f60e9a4ab8f435f9f4be0cb2ed89f36"
				serviceId="nabu.frameworks.process.crud.processActionRelation.batch.deleteAll"
				resultName="resultc932dfef2fac480da862cf3f76edd5fc"
				temporaryMapping="true"
				x="122"
				y="24"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="abbbb9550fec449d81d6b9bc05eaf80e"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>relationsToRemove/id</from>
				<to>id</to>
			</steps>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="fbd902d1f64346a183acab9f155c1b12"
			label="actionsToRemove"
			lineNumber="42">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="93b1970334b54f3d8df8da49fa1905cc"
				serviceId="nabu.frameworks.process.crud.processAction.batch.deleteAll"
				resultName="result3e1b549394b74edfa28e628d13133c54"
				temporaryMapping="true"
				x="75"
				y="48"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="984eba64fb9a42098d6f65a09989a3b8"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>actionsToRemove/id</from>
				<to>id</to>
			</steps>
		</steps>
	</steps>
	<steps xsi:type="be.nabu.libs.services.vm.step.Map"
			disabled="false"
			id="35a7b92ec9bb4db99368b48b47fdc56b"
			label="statesToRemove"
			lineNumber="43">
		<steps xsi:type="be.nabu.libs.services.vm.step.Invoke"
				disabled="false"
				id="6900b8700388464c9ec13c46136f2075"
				serviceId="nabu.frameworks.process.crud.processState.batch.deleteAll"
				resultName="result9ffe89ba1d8543ad8a37ae1df2a7aea1"
				temporaryMapping="true"
				x="276"
				y="130"
				invocationOrder="0"
				asynchronous="false"
				recache="false">
			<steps xsi:type="be.nabu.libs.services.vm.step.Link"
					disabled="false"
					id="a93f38eb37e14da68358d4ccb2429dfb"
					mask="false"
					optional="false"
					fixedValue="false">
				<from>statesToRemove/id</from>
				<to>id</to>
			</steps>
		</steps>
	</steps>
</sequence>